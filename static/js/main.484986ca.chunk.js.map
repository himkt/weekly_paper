{"version":3,"sources":["index.js"],"names":["createKey","paper_json","raw_authors","split","length","first_author","slice","toList","filt","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","map","index","class","key","href","bibtex_item","startsWith","journal_name","replace","ret","__html","reactjs_popup__WEBPACK_IMPORTED_MODULE_7__","trigger","modal","dangerouslySetInnerHTML","createPopup","result","push","createHeader","toHTML","Form","val","this","refs","myinput","value","props","onFilterVal","type","ref","placeholder","onKeyUp","_filterVal","bind","React","Component","Paper","_this","Object","_Users_makoto_hiramatsu_work_github_com_himkt_interest_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_makoto_hiramatsu_work_github_com_himkt_interest_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_makoto_hiramatsu_work_github_com_himkt_interest_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","data","query","toLowerCase","filter","paper","match","setState","_this2","fetch","then","response","text","records","records_array","r","columns","dict","i","trim","toJSON","record","parseTSV","handleFilterTextVal","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.484986ca.chunk.js","sourcesContent":["import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Popup from 'reactjs-popup'\nimport './index.css'\n\n\nconst URL = 'https://docs.google.com/spreadsheets/d/e/' +\n    '2PACX-1vQ3TV9KzYftbwV0gtWRZpTjMz9PSGHDU25705dbazQ_jmCYasQeL1YKP3jfZFY2kZ7PMWCYAVjLVG8h/' +\n    'pub?gid=0&single=true&output=tsv'\n\n\nfunction createKey (paper_json) {\n    let raw_authors = paper_json['authors'].split(',')\n    if (raw_authors.length > 0) {\n        let first_author = raw_authors[0]\n        first_author = first_author.split(' ')\n        first_author = first_author.slice(-1)[0]\n        return first_author + paper_json['year']\n    }\n}\n\n\nfunction createPopup (paper_json) {\n    let bibtex_item = ''\n\n    if (paper_json['conference'].startsWith('j:')) {\n        let journal_name = paper_json['conference'].slice(2, )\n        bibtex_item += '@article{' + createKey(paper_json) + ',<br>'\n        bibtex_item += '&nbsp;&nbsp;journal={' + journal_name + '},<br>'\n    }\n    else {\n        createKey(paper_json)\n        bibtex_item += '@inproceedings{' + createKey(paper_json) + ',<br>'\n        bibtex_item += '&nbsp;&nbsp;booktitle={Proceedings of ' + paper_json['conference'] + '},<br>'\n    }\n\n    let authors = paper_json['authors'].replace(', ', ' and ')\n    bibtex_item += '&nbsp;&nbsp;author=\"' + authors + '\",<br>'\n    bibtex_item += '&nbsp;&nbsp;title={' + paper_json['title'] + '},<br>'\n    bibtex_item += '}'\n\n    let ret = {__html: bibtex_item}\n\n    return (\n        <Popup trigger={<button class=\"btn btn-info\"> BibTex export </button>} modal>\n            <div dangerouslySetInnerHTML={ret} />\n        </Popup>\n    )\n}\n\n\nfunction createHeader(paper_json) {\n    let result = []\n\n    if (paper_json['conference'] ) {\n        if (paper_json['conference'].startsWith('j:')) {\n            let journal_name = paper_json['conference'].slice(2, )\n            result.push(<span class='badge badge-warning'> {journal_name} </span>)\n        }\n        else {\n            result.push(<span class='badge badge-info'> {paper_json['conference']} </span>)\n        }\n    }\n\n    if (paper_json['year'] ) {\n        result.push(<span class='badge badge-success'> {paper_json['year']} </span>)\n    }\n\n    return <div class='headerComponent'> {result} </div>\n}\n\n\nfunction toList(filt) {\n    return (\n        <div>\n            {filt.map((paper_json, index) => toHTML(paper_json, index))}\n        </div>\n    )\n}\n\n\nfunction toHTML(paper_json, index) {\n    return (\n        <div class=\"card border-info mb-3\" key={index}>\n            <div class=\"card-header text-muted\">\n                Added: {paper_json['date'] }\n            </div>\n            <div class=\"card-body\">\n                <h5 class=\"card-title\"> <a href={paper_json['link']}> {paper_json['title']} </a></h5>\n                { createPopup(paper_json) }\n                { createHeader(paper_json) }\n                <p class=\"card-text\">{paper_json['note'] }</p>\n            </div>\n        </div>\n    )\n}\n\n\nfunction toJSON(records) {\n    let f_split = (r) => r.split('\\t')\n    let records_array = records.map(f_split)\n    let columns = records_array[0]\n    let papers = records_array.slice(1,)\n    let papers_json = papers.map(function(paper) {\n        let dict = {}\n        for (var i=0; i<columns.length; i++) {\n            dict[columns[i].trim()] = paper[i] || ''\n        }\n        return dict\n    })\n    return papers_json\n}\n\n\nfunction parseTSV(response) {\n    let records = response.split('\\n')\n    records = records.map(function(record) {\n        return record.replace(/\\n$/, '')})\n    let papers_json = toJSON(records)\n    return papers_json\n}\n\n\nclass Form extends React.Component {\n    _filterVal() {\n        const val = this.refs.myinput.value\n        this.props.onFilterVal(val)\n    }\n\n    render() {\n        return (\n            <div><div class=\"form-group\">\n                <input type=\"text\" ref=\"myinput\" class=\"form-control\"\n                    placeholder=\"Named Entity Recognition\"\n                    onKeyUp={this._filterVal.bind(this)} />\n            </div></div>\n        )\n    }\n}\n\n\nclass Paper extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            data: null,\n            filt: null,\n        }\n    }\n\n\n    handleFilterTextVal(query) {\n        query = query.toLowerCase()\n        const filt = this.state.data.filter(\n            function(paper) {\n                return (\n                    paper['title'].toLowerCase().match(query) ||\n                    paper['conference'].toLowerCase().match(query) ||\n                    paper['note'].toLowerCase().match(query) ||\n                    // paper['link'].toLowerCase().match(query) ||\n                    paper['year'].match(query)\n                )\n            }\n        )\n        this.setState({filt: filt})\n    }\n\n\n    componentDidMount() {\n        fetch(URL)\n            .then(response => response.text())\n            .then(data => parseTSV(data))\n            .then(filt => this.setState({ data: filt, filt: filt }))\n    }\n\n\n    render() {\n        if (this.state.filt) {\n            return (\n                <div>\n                    <Form onFilterVal={this.handleFilterTextVal.bind(this)} />\n                    <div class='card-columns'> {toList(this.state.filt)} </div>\n                </div>\n            )\n        }\n        else {\n            return <div>Loading...</div>\n        }\n    }\n}\n\n\nReactDOM.render(<Paper />, document.getElementById('root'))\n"],"sourceRoot":""}