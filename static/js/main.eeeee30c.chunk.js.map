{"version":3,"sources":["utils/parse.js","components/atoms/paperBadge.jsx","components/molecules/card.jsx","components/molecules/form.jsx","components/templates/paper.jsx","index.js"],"names":["parseTSV","response","records","split","recordsArray","map","r","columns","slice","paper","dict","i","length","trim","toJSON","record","replace","PaperBadge","_ref","text","badgeClass","react_default","a","createElement","className","normalizeYear","paper_json","normalizeBookName","book_name","startsWith","createKey","raw_authors","year","first_author","Card","idx","key","date","href","link","title","bibtex_item","_extractVolumeNumber","year_volume_number","arr_size","extractVolumeNumber","_extractVolumeNumber2","Object","slicedToArray","volume","number","ret","__html","reactjs_popup_es","trigger","class","modal","dangerouslySetInnerHTML","createPopup","paperBadge","note","Form","val","this","refs","myinput","value","props","onFilterVal","type","ref","placeholder","onKeyUp","filterVal","bind","Component","Paper","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFilterTextVal","assertThisInitialized","state","data","filt","_this2","fetch","then","setState","query","toLowerCase","filter","match","conference","form_Form","card","ReactDOM","render","paper_Paper","document","getElementById"],"mappings":"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","file":"static/js/main.eeeee30c.chunk.js","sourcesContent":["const toJSON = records => {\n    const fSplit = r => r.split('\\t')\n    const recordsArray = records.map(fSplit)\n    const columns = recordsArray[0]\n    const papers = recordsArray.slice(1)\n    const papersJson = papers.map(paper => {\n        const dict = {}\n        for (let i = 0; i < columns.length; i++) {\n            dict[columns[i].trim()] = paper[i] || ''\n        }\n        return dict\n    })\n    return papersJson\n}\n\nconst parseTSV = response => {\n    let records = response.split('\\n')\n    records = records.map(record => record.replace(/\\n$/, ''))\n    const papersJson = toJSON(records)\n    return papersJson\n}\n\nexport default parseTSV\n","import React from 'react'\n\ntype Props = {\n    text: string,\n    badgeClass: string\n}\n\nconst PaperBadge = ({ text, badgeClass }: Props) => (\n    <div>\n        <span className={badgeClass}>{text}</span>\n    </div>\n)\n\nexport default PaperBadge\n","import React from 'react'\nimport PaperBadge from '../atoms/paperBadge'\nimport Popup from 'reactjs-popup'\nimport { endianness } from 'os';\n\ntype Props = {\n    paper: any,\n    idx: number\n}\n\n\nfunction extractVolumeNumber(paper_json) {\n    let year_volume_number = paper_json['year'].split(',')\n    let arr_size = year_volume_number.length\n\n    if (arr_size == 2) {\n        return [year_volume_number[1], '-1']\n    }\n    else if (arr_size == 3) {\n        return [year_volume_number[1], year_volume_number[2]]\n    }\n    else {\n        return ['-1', '-1']\n    }\n}\n\n\nfunction normalizeYear(paper_json) {\n    return paper_json['year'].split(',')[0]\n}\n\n\nfunction normalizeBookName(paper_json) {\n    let book_name = paper_json['conference']\n    if (book_name.startsWith('j:')) {\n        return book_name.slice(2,)\n    }\n    else {\n        return book_name\n    }\n}\n\n\nfunction createKey(paper_json) {\n    let raw_authors = paper_json['authors'].split(',')\n    let year = normalizeYear(paper_json)\n    if (raw_authors.length > 0) {\n        let first_author = raw_authors[0]\n        first_author = first_author.split(' ')\n        first_author = first_author.slice(-1)[0]\n        return first_author + year\n    }\n}\n\nfunction createPopup(paper_json) {\n    let bibtex_item = ''\n    let book_name = normalizeBookName(paper_json)\n\n    if (paper_json['conference'].startsWith('j:')) {\n        bibtex_item += '@article{' + createKey(paper_json) + ',<br>'\n        bibtex_item += '&nbsp;&nbsp;journal={' + book_name + '},<br>'\n\n        let [volume, number] = extractVolumeNumber(paper_json)\n        \n        if (volume != '-1') {\n            bibtex_item += '&nbsp;&nbsp;volume={' + volume + '},<br>'\n        }\n        if (number != '-1') {\n            bibtex_item += '&nbsp;&nbsp;number={' + number + '},<br>'\n        }\n\n    } else {\n        bibtex_item += '@inproceedings{' + createKey(paper_json) + ',<br>'\n        bibtex_item += '&nbsp;&nbsp;booktitle={Proceedings of ' +\n            book_name + '},<br>'\n    }\n\n    let authors = paper_json['authors'].replace(/, /g, ' and ')\n    bibtex_item += '&nbsp;&nbsp;author=\"' + authors + '\",<br>'\n    bibtex_item += '&nbsp;&nbsp;title={' + paper_json['title'] + '},<br>'\n    bibtex_item += '&nbsp;&nbsp;year={' + normalizeYear(paper_json) + '},<br>'\n    bibtex_item += '}'\n\n    let ret = { __html: bibtex_item }\n\n    return (\n        <Popup\n            trigger={<button class=\"btn btn-info\"> BibTex export </button>}\n            modal\n        >\n            <div dangerouslySetInnerHTML={ret} />\n        </Popup>\n    )\n}\n\nconst Card = ({ paper, idx }: Props) => (\n    <div className=\"card border-info mb-3\" key={idx}>\n        <div className=\"card-header text-muted\">Added: {paper.date}</div>\n        <div className=\"card-body\">\n            <h5 className=\"card-title\">\n                <a href={paper.link}>{paper.title}</a>\n            </h5>\n            <div className=\"headerComponent\">\n                {createPopup(paper)}\n                <PaperBadge\n                    text={normalizeBookName(paper)}\n                    badgeClass=\"badge badge-info\"\n                />\n                <PaperBadge\n                    text={normalizeYear(paper)}\n                    badgeClass=\"badge badge-success\"\n                />\n            </div>\n            <p className=\"card-text\">{paper.note}</p>\n        </div>\n    </div>\n)\n\nexport default Card\n","import React, { Component } from 'react'\n\nexport default class Form extends Component {\n    filterVal() {\n        const val = this.refs.myinput.value\n        this.props.onFilterVal(val)\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        ref=\"myinput\"\n                        className=\"form-control\"\n                        placeholder=\"Named Entity Recognition\"\n                        onKeyUp={this.filterVal.bind(this)}\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport parseTSV from '../../utils/parse'\nimport Card from '../molecules/card'\nimport Form from '../molecules/form'\n\nconst URL =\n    'https://docs.google.com/spreadsheets/d/e/' +\n    '2PACX-1vQ3TV9KzYftbwV0gtWRZpTjMz9PSGHDU25705dbazQ_jmCYasQeL1YKP3jfZFY2kZ7PMWCYAVjLVG8h/' +\n    'pub?gid=0&single=true&output=tsv'\n\nexport default class Paper extends Component {\n    constructor(props) {\n        super(props)\n        this.handleFilterTextVal = this.handleFilterTextVal.bind(this)\n        this.state = {\n            data: null,\n            filt: null\n        }\n    }\n\n    componentDidMount() {\n        fetch(URL)\n            .then(response => response.text())\n            .then(data => parseTSV(data))\n            .then(filt =>\n                this.setState({\n                    data: filt,\n                    filt\n                })\n            )\n    }\n\n    handleFilterTextVal(query) {\n        query = query.toLowerCase()\n        const filt = this.state.data.filter(\n            paper =>\n                paper.title.toLowerCase().match(query) ||\n                paper.conference.toLowerCase().match(query) ||\n                paper.note.toLowerCase().match(query) ||\n                // paper['link'].toLowerCase().match(query) ||\n                paper.year.match(query)\n        )\n        this.setState({ filt })\n    }\n\n    render() {\n        if (this.state.filt) {\n            return (\n                <div>\n                    <Form onFilterVal={this.handleFilterTextVal} />\n                    <div className=\"card-columns\">\n                        {this.state.filt.map((paper, idx) => (\n                            <Card paper={paper} idx={idx} />\n                        ))}\n                    </div>\n                </div>\n            )\n        }\n        return <div> Loading... </div>\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Paper from './components/templates/paper';\n\nReactDOM.render(<Paper />, document.getElementById('root'));"],"sourceRoot":""}